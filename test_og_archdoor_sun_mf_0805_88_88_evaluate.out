Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Traceback (most recent call last):
  File "main.py", line 363, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 360, in main
    app.run()
  File "main.py", line 226, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 96, in __init__
    self.local_network.prepare_loss()
  File "/root/repos/minos_unreal/model/model.py", line 572, in prepare_loss
    loss = loss + rp_loss
NameError: name 'rp_loss' is not defined
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: 
Slots: 
2018-05-08 21:37:25.161829: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 21:37:25.278304: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.11GiB
2018-05-08 21:37:25.278338: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 21:37:25.507135: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 21:37:25.507181: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 21:37:25.507190: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 21:37:25.507435: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9778 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 21:37:31,453 INFO {'sim_id': 'sim00', 'sim_git_hash': 'd78b9d8', 'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04'}
2018-05-08 21:37:31,473 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 48698
2018-05-08 21:37:33,534 INFO sim00:connect
2018-05-08 21:37:33,706 INFO sim00:inited
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Traceback (most recent call last):
  File "main.py", line 104, in train_function
    self.losses)
AttributeError: 'Application' object has no attribute 'losses'

2018-05-08 21:37:43,888 INFO sim00:disconnect
2018-05-08 21:37:43,888 INFO sim00:Stopping the simulator
2018-05-08 21:37:43,889 INFO Counter({'frames_received': 1})
2018-05-08 21:37:43,889 INFO sim00:Stopping child servers
2018-05-08 21:37:43,889 INFO sim00:Killing sim pid 18713
2018-05-08 21:37:43,929 INFO sim00:Stopped child servers
2018-05-08 21:37:43,929 INFO sim00:Simulator killed.
Trainer  0  process Error!
Trainer  0  after a while return!
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: 
Slots: 
2018-05-08 21:39:04.072830: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 21:39:04.183439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.10GiB
2018-05-08 21:39:04.183472: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 21:39:04.411887: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 21:39:04.411931: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 21:39:04.411940: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 21:39:04.412188: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9776 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 21:39:10,525 INFO {'machine': 'iitp-04', 'sim_id': 'sim00', 'sim_git_hash': 'd78b9d8', 'stk_git_hash': 'd78b9d8'}
2018-05-08 21:39:10,545 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 47898
2018-05-08 21:39:12,715 INFO sim00:connect
2018-05-08 21:39:12,906 INFO sim00:inited
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'base_a' with dtype float and shape [?,3]
	 [[Node: base_a = Placeholder[dtype=DT_FLOAT, shape=[?,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: net_0/base_value/Reshape/_149 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3226_net_0/base_value/Reshape", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 416, in process
    self._fill_experience(sess)
  File "/root/repos/minos_unreal/train/trainer.py", line 165, in _fill_experience
    last_action_reward)
  File "/root/repos/minos_unreal/model/model.py", line 616, in run_base_policy_and_value
    self.base_initial_lstm_state1: self.base_lstm_state_out[1]})
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'base_a' with dtype float and shape [?,3]
	 [[Node: base_a = Placeholder[dtype=DT_FLOAT, shape=[?,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: net_0/base_value/Reshape/_149 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3226_net_0/base_value/Reshape", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'base_a', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 96, in __init__
    self.local_network.prepare_loss()
  File "/root/repos/minos_unreal/model/model.py", line 559, in prepare_loss
    self.base_loss = self._base_loss()
  File "/root/repos/minos_unreal/model/model.py", line 471, in _base_loss
    self.base_a = tf.placeholder("float", [None, self._action_size], name='base_a')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'base_a' with dtype float and shape [?,3]
	 [[Node: base_a = Placeholder[dtype=DT_FLOAT, shape=[?,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: net_0/base_value/Reshape/_149 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3226_net_0/base_value/Reshape", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 21:39:25,093 INFO sim00:disconnect
2018-05-08 21:39:25,094 INFO sim00:Stopping the simulator
2018-05-08 21:39:25,094 INFO Counter({'frames_received': 1})
2018-05-08 21:39:25,094 INFO sim00:Stopping child servers
2018-05-08 21:39:25,094 INFO sim00:Killing sim pid 19365
2018-05-08 21:39:25,133 INFO sim00:Stopped child servers
2018-05-08 21:39:25,133 INFO sim00:Simulator killed.
Trainer  0  process Error!
Trainer  0  after a while return!
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 21:44:39.373070: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 21:44:39.517257: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.16GiB
2018-05-08 21:44:39.517300: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 21:44:39.733460: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 21:44:39.733511: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 21:44:39.733520: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 21:44:39.733746: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9826 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 21:44:45,492 INFO {'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim00', 'stk_git_hash': 'd78b9d8'}
2018-05-08 21:44:45,511 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 55907
2018-05-08 21:44:47,491 INFO sim00:connect
2018-05-08 21:44:47,667 INFO sim00:inited
val:32 episodes
test:34 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,11.928333,1,True,0.083834,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 34, 'isValid': True, 'i': 45, 'id': 3581}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'goal': {'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'cell': {'j': 33, 'isValid': True, 'i': 43, 'id': 3475}}, 'shortestPath': {'doors': ['0_26'], 'isValid': True, 'rooms': [5], 'distance': 0.2414213562373095}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,0.872626,24,False,27.503189,1.963594,0.020020,2.648528,1,1
sim00:EPINFO:2,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 44, 'isValid': True, 'i': 79, 'id': 4655}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'goal': {'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'cell': {'j': 64, 'isValid': True, 'i': 71, 'id': 6727}}, 'shortestPath': {'doors': ['0_49'], 'isValid': True, 'rooms': [4], 'distance': 2.648528137423858}, 'task': 'object_goal'}
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.1998489  0.44860616 0.3515449 ]
Thread 0>>> V=0.01472720131278038
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 20
Trainer 0>>> Total loss: 6.262053966522217, Base loss: 2.674248695373535, Decoder loss: 14.663890838623047, VR loss: 3.5878026485443115, RP loss: 2.5033982637978625e-06
Trainer 0>>> Total loss: 1.739100694656372, Base loss: -1.0466690063476562, Decoder loss: 9.61320686340332, VR loss: 2.7857680320739746, RP loss: 1.6689314179529902e-06
Thread 0>>> Local step 200:
Thread 0>>> pi=[0.30090633 0.28006032 0.4190334 ]
Thread 0>>> V=-2.7620608806610107
Trainer 0>>> Total loss: 5.783398151397705, Base loss: 2.1153459548950195, Decoder loss: 9.85031509399414, VR loss: 3.6680474281311035, RP loss: 4.529963462118758e-06
Trainer 0>>> Total loss: 1.5079851150512695, Base loss: -2.048745632171631, Decoder loss: 6.145610332489014, VR loss: 3.5566842555999756, RP loss: 4.6492703404510394e-05
Thread 0>>> Local step 400:
Thread 0>>> pi=[0.41836932 0.13488981 0.44674093]
Thread 0>>> V=-3.696758985519409
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:3,284ff31467d92cb95f477fea90272abc,34.572865,500,False,14.462209,5.916266,6.529516,6.372792,2,2
sim00:EPINFO:3,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 93, 'isValid': True, 'i': 36, 'id': 9708}, 'room': '0_0', 'position': [-39.00107116405902, 0.5950000007450584, -38.9704606620923], 'angle': 1.3271629277210293}, 'goal': {'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [2.7392014210023166, 0, 3.4615695341042523], 'cell': {'j': 33, 'isValid': True, 'i': 43, 'id': 3475}}, 'shortestPath': {'doors': ['0_52', '0_26'], 'isValid': True, 'rooms': [1, 5], 'distance': 6.3727922061357845}, 'task': 'object_goal'}
Thread 0>>> score=-50.61324969901705
Trainer 0>>> Total loss: 150.82838439941406, Base loss: 144.3196563720703, Decoder loss: 20.73460578918457, VR loss: 6.508728504180908, RP loss: 2.0265599687263602e-06
Trainer 0>>> Total loss: 21.179542541503906, Base loss: -0.2420215606689453, Decoder loss: 6.011016368865967, VR loss: 2.562150001525879, RP loss: 18.85941505432129
Thread 0>>> Local step 600:
Thread 0>>> pi=[0.4456058  0.07622291 0.47817126]
Thread 0>>> V=-3.8047759532928467
Trainer 0>>> Total loss: 5.672920227050781, Base loss: 2.746182441711426, Decoder loss: 14.201891899108887, VR loss: 2.9267354011535645, RP loss: 2.5033982637978625e-06
Trainer 0>>> Total loss: 45.107994079589844, Base loss: 11.490009307861328, Decoder loss: 15.474853515625, VR loss: 1.7953407764434814, RP loss: 31.822643280029297
Thread 0>>> Local step 800:
Thread 0>>> pi=[0.3383218  0.06137488 0.6003033 ]
Thread 0>>> V=-4.230323791503906
Trainer 0>>> Total loss: 5.801849365234375, Base loss: 3.597768783569336, Decoder loss: 12.224325180053711, VR loss: 2.204080581665039, RP loss: 1.1920930376163597e-07
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:4,284ff31467d92cb95f477fea90272abc,19.859345,418,True,21.048026,3.443701,0.000000,4.279899,2,3
sim00:EPINFO:4,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 30, 'isValid': True, 'i': 19, 'id': 3139}, 'room': '0_10', 'position': [-40.74632079083767, 0.5950000007450585, -45.27629926285534], 'angle': 3.3466269817994525}, 'goal': {'bbox': {'min': [-37.5599979609251, 0.039999958793227375, -43.969998598098755], 'max': [-37.41999786347151, 2.2200000286102295, -42.909998655319214]}, 'objectId': '0_25', 'position': [-37.489997912198305, 1.1299999937017284, -43.439998626708984], 'initialOffsetFromAgent': [-4.012446434591196, 0, -3.838893918838707], 'cell': {'j': 48, 'isValid': True, 'i': 52, 'id': 5044}}, 'shortestPath': {'doors': ['0_27', '0_25'], 'isValid': True, 'rooms': [2, 5, 4], 'distance': 4.2798989873223325}, 'task': 'object_goal'}
Thread 0>>> score=-38.35629928664446
Thread 0>>> Local step 1000:
Thread 0>>> pi=[0.23261394 0.076687   0.6906991 ]
Thread 0>>> V=-4.836032867431641
Trainer 0>>> Total loss: 4.45646858215332, Base loss: 2.355515480041504, Decoder loss: 9.818479537963867, VR loss: 2.1009533405303955, RP loss: -0.0
### Performance : 998 STEPS in 76 sec. 13 STEPS/sec. 0.05M STEPS/hour
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 1038
Trainer 0>>> Total loss: -3.8554272651672363, Base loss: -5.444158554077148, Decoder loss: 5.660654067993164, VR loss: 1.588728427886963, RP loss: 2.7418175250204513e-06
Thread 0>>> Local step 1200:
Thread 0>>> pi=[0.27411318 0.0491535  0.6767334 ]
Thread 0>>> V=-5.204710960388184
Trainer 0>>> Total loss: 12.177102088928223, Base loss: 10.17462158203125, Decoder loss: 16.51926040649414, VR loss: 2.0024805068969727, RP loss: -0.0
Trainer 0>>> Total loss: 9.983956336975098, Base loss: 8.170435905456543, Decoder loss: 15.213766098022461, VR loss: 1.8135206699371338, RP loss: 1.1920930376163597e-07
Thread 0>>> Local step 1400:
Thread 0>>> pi=[0.3661465  0.04513923 0.5887143 ]
Thread 0>>> V=-5.5777668952941895
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:5,284ff31467d92cb95f477fea90272abc,23.070468,500,False,21.672729,4.412825,1.419158,6.059798,2,3
sim00:EPINFO:5,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 88, 'isValid': True, 'i': 19, 'id': 9171}, 'room': '0_0', 'position': [-40.72052469915735, 0.5950000007450585, -39.42303286945589], 'angle': 3.810156981740355}, 'goal': {'bbox': {'min': [-39.90574361383915, 0.03999994429802811, -44.82001692056656], 'max': [-39.75425221771002, 2.2202398777008057, -43.75998491048813]}, 'objectId': '0_27', 'position': [-39.829997915774584, 1.1301199109994169, -44.290000915527344], 'initialOffsetFromAgent': [-0.8528522134887017, 0, -2.162763240414046], 'cell': {'j': 40, 'isValid': True, 'i': 28, 'id': 4188}}, 'shortestPath': {'doors': ['0_52', '0_27'], 'isValid': True, 'rooms': [1, 5, 2], 'distance': 6.059797974644663}, 'task': 'object_goal'}
Thread 0>>> score=-47.006333065185196
Trainer 0>>> Total loss: 187.9169921875, Base loss: 185.51718139648438, Decoder loss: 19.698095321655273, VR loss: 2.3998146057128906, RP loss: 8.344653679159819e-07
Trainer 0>>> Total loss: 14.497373580932617, Base loss: 12.470556259155273, Decoder loss: 18.952791213989258, VR loss: 2.0268168449401855, RP loss: -0.0
Thread 0>>> Local step 1600:
Thread 0>>> pi=[0.28118855 0.03672215 0.6820893 ]
Thread 0>>> V=-5.451019763946533
Trainer 0>>> Total loss: -1.7305517196655273, Base loss: -3.6278562545776367, Decoder loss: 5.183407783508301, VR loss: 1.8973040580749512, RP loss: 4.768372718899627e-07
Trainer 0>>> Total loss: 13.093612670898438, Base loss: 11.306136131286621, Decoder loss: 13.558581352233887, VR loss: 1.7874765396118164, RP loss: -0.0
Thread 0>>> Local step 1800:
Thread 0>>> pi=[0.3250151  0.03705383 0.63793105]
Thread 0>>> V=-5.8529887199401855
Trainer 0>>> Total loss: 2.492445468902588, Base loss: 0.0829610824584961, Decoder loss: 4.856075286865234, VR loss: 2.409482479095459, RP loss: 1.9073504518019035e-06
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:6,284ff31467d92cb95f477fea90272abc,21.926872,500,False,22.803071,6.236163,7.139932,7.279899,2,2
sim00:EPINFO:6,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 96, 'isValid': True, 'i': 43, 'id': 10027}, 'room': '0_0', 'position': [-38.34748179160407, 0.5950000007450583, -38.648090712562244], 'angle': 4.5423478055223345}, 'goal': {'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-2.024847095625507, 0, -0.4714170174594431], 'cell': {'j': 33, 'isValid': True, 'i': 43, 'id': 3475}}, 'shortestPath': {'doors': ['0_52', '0_26'], 'isValid': True, 'rooms': [1, 5], 'distance': 7.279898987322331}, 'task': 'object_goal'}
Thread 0>>> score=-50.90376992181309
Trainer 0>>> Total loss: 151.6209716796875, Base loss: 145.70010375976562, Decoder loss: 4.868675708770752, VR loss: 5.920871257781982, RP loss: 3.099446303167497e-06
Thread 0>>> Local step 2000:
Thread 0>>> pi=[0.22868705 0.02715718 0.74415576]
Thread 0>>> V=-5.546911716461182
Trainer 0>>> Total loss: 7.334660053253174, Base loss: 5.5129923820495605, Decoder loss: 9.236795425415039, VR loss: 1.8216651678085327, RP loss: 2.2649790025752736e-06
### Performance : 1998 STEPS in 119 sec. 17 STEPS/sec. 0.06M STEPS/hour
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 2038
Trainer 0>>> Total loss: 2.6483161449432373, Base loss: 0.6026816368103027, Decoder loss: 6.0014214515686035, VR loss: 2.0456345081329346, RP loss: -0.0
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:7,284ff31467d92cb95f477fea90272abc,10.778982,230,True,21.337822,1.707240,0.000000,2.355635,1,1
sim00:EPINFO:7,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'j': 68, 'isValid': True, 'i': 20, 'id': 7092}, 'room': '0_0', 'position': [-40.59438327629789, 0.595000000745059, -41.43247940527856], 'angle': 5.5451667210109115}, 'goal': {'bbox': {'min': [-39.28666806221008, 0.039999958793227375, -42.66999847441912], 'max': [-38.22666811943054, 2.2200000286102295, -42.52999837696552]}, 'objectId': '0_52', 'position': [-38.75666809082031, 1.1299999937017284, -42.59999842569232], 'initialOffsetFromAgent': [-2.382513333645935, 0, 4.150462645803786], 'cell': {'j': 57, 'isValid': True, 'i': 39, 'id': 5967}}, 'shortestPath': {'doors': ['0_52'], 'isValid': True, 'rooms': [1], 'distance': 2.3556349186104053}, 'task': 'object_goal'}
Thread 0>>> score=-21.292760422679493
Thread 0>>> Local step 2200:
Thread 0>>> pi=[0.18405467 0.02549855 0.7904468 ]
Thread 0>>> V=-5.057401657104492
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 1!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 2!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 3!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 21:48:01.977563: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 21:48:02.110339: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.12GiB
2018-05-08 21:48:02.110372: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 21:48:02.320669: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 21:48:02.320708: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 21:48:02.320716: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 21:48:02.320952: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9789 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 21:48:19,648 INFO {'stk_git_hash': 'd78b9d8', 'sim_id': 'sim02', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8'}
2018-05-08 21:48:19,668 INFO sim02:Starting sim server at /root/repos/minos/minos/server/server.js with port 52032
2018-05-08 21:48:19,705 INFO {'stk_git_hash': 'd78b9d8', 'sim_id': 'sim03', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8'}
2018-05-08 21:48:19,773 INFO sim03:Starting sim server at /root/repos/minos/minos/server/server.js with port 11188
2018-05-08 21:48:19,881 INFO {'stk_git_hash': 'd78b9d8', 'sim_id': 'sim00', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8'}
2018-05-08 21:48:19,904 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 18644
2018-05-08 21:48:20,008 INFO {'stk_git_hash': 'd78b9d8', 'sim_id': 'sim01', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8'}
2018-05-08 21:48:20,029 INFO sim01:Starting sim server at /root/repos/minos/minos/server/server.js with port 41971
2018-05-08 21:48:22,168 INFO sim02:connect
2018-05-08 21:48:22,210 INFO sim03:connect
2018-05-08 21:48:22,210 INFO sim00:connect
2018-05-08 21:48:22,374 INFO sim02:inited
2018-05-08 21:48:22,418 INFO sim01:connect
2018-05-08 21:48:22,456 INFO sim00:inited
2018-05-08 21:48:22,474 INFO sim03:inited
2018-05-08 21:48:22,619 INFO sim01:inited
val:32 episodes
test:34 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
val:32 episodes
test:34 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
val:32 episodes
test:34 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
val:32 episodes
test:34 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Trainer  2  process (re)start!
Trainer  3  process (re)start!
Trainer  1  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.625753,1,True,0.068373,0.000000,0.000000,0.241421,1,1
sim03:EPINFO:1,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 45, 'id': 3581, 'j': 34, 'isValid': True}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'shortestPath': {'doors': ['0_26'], 'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5]}, 'goal': {'cell': {'i': 43, 'id': 3475, 'j': 33, 'isValid': True}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.647038,1,True,0.068273,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 45, 'id': 3581, 'j': 34, 'isValid': True}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'shortestPath': {'doors': ['0_26'], 'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5]}, 'goal': {'cell': {'i': 43, 'id': 3475, 'j': 33, 'isValid': True}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.158698,1,True,0.065969,0.000000,0.000000,0.241421,1,1
sim02:EPINFO:1,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 45, 'id': 3581, 'j': 34, 'isValid': True}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'shortestPath': {'doors': ['0_26'], 'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5]}, 'goal': {'cell': {'i': 43, 'id': 3475, 'j': 33, 'isValid': True}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.539898,1,True,0.064350,0.000000,0.000000,0.241421,1,1
sim01:EPINFO:1,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 45, 'id': 3581, 'j': 34, 'isValid': True}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'shortestPath': {'doors': ['0_26'], 'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5]}, 'goal': {'cell': {'i': 43, 'id': 3475, 'j': 33, 'isValid': True}, 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.878111,24,False,12.778797,1.963594,0.206929,2.648528,1,1
sim00:EPINFO:2,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 79, 'id': 4655, 'j': 44, 'isValid': True}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'shortestPath': {'doors': ['0_49'], 'distance': 2.648528137423858, 'isValid': True, 'rooms': [4]}, 'goal': {'cell': {'i': 71, 'id': 6727, 'j': 64, 'isValid': True}, 'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.457426,24,False,16.467390,1.963594,1.278078,2.648528,1,1
sim02:EPINFO:2,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 79, 'id': 4655, 'j': 44, 'isValid': True}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'shortestPath': {'doors': ['0_49'], 'distance': 2.648528137423858, 'isValid': True, 'rooms': [4]}, 'goal': {'cell': {'i': 71, 'id': 6727, 'j': 64, 'isValid': True}, 'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-2.1966521241357984, 0, 2.15212704231773], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:2,284ff31467d92cb95f477fea90272abc,2.050558,24,False,11.704131,1.963594,0.398573,2.648528,1,1
sim03:EPINFO:2,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 79, 'id': 4655, 'j': 44, 'isValid': True}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'shortestPath': {'doors': ['0_49'], 'distance': 2.648528137423858, 'isValid': True, 'rooms': [4]}, 'goal': {'cell': {'i': 71, 'id': 6727, 'j': 64, 'isValid': True}, 'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}}, 'task': 'object_goal'}
Replay buffer filled
Replay buffer filled
Replay buffer filled
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.451971,24,False,16.529258,1.963594,1.055829,2.648528,1,1
sim01:EPINFO:2,{'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'cell': {'i': 79, 'id': 4655, 'j': 44, 'isValid': True}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'shortestPath': {'doors': ['0_49'], 'distance': 2.648528137423858, 'isValid': True, 'rooms': [4]}, 'goal': {'cell': {'i': 71, 'id': 6727, 'j': 64, 'isValid': True}, 'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-2.1966521241357984, 0, 2.15212704231773], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}}, 'task': 'object_goal'}
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.33225605 0.35121763 0.31652638]
Thread 0>>> V=-0.45483702421188354
2018-05-08 21:48:56.059899: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_2/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_2/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 21:48:56.132342: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_2/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_2/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset/_1067 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_21310_gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 512, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset/_1067 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_21310_gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_2/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset/_1067 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_21310_gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 21:48:56,865 INFO sim03:disconnect
2018-05-08 21:48:56,865 INFO sim03:Stopping the simulator
2018-05-08 21:48:56,865 INFO Counter({'frames_received': 48})
2018-05-08 21:48:56,865 INFO sim03:Stopping child servers
2018-05-08 21:48:56,865 INFO sim03:Killing sim pid 21611
2018-05-08 21:48:56,921 INFO sim03:Stopped child servers
2018-05-08 21:48:56,921 INFO sim03:Simulator killed.
Trainer  3  process Error!
Trainer  3  after a while return!
2018-05-08 21:49:03.541356: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 21:49:03.590163: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_1/assert_broadcastable/AssertGuard/Switch_0/_1346 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3885_...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 512, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_1/assert_broadcastable/AssertGuard/Switch_0/_1346 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3885_...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_0/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_1/assert_broadcastable/AssertGuard/Switch_0/_1346 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3885_...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 21:49:04,017 INFO sim01:disconnect
2018-05-08 21:49:04,018 INFO sim01:Stopping the simulator
2018-05-08 21:49:04,018 INFO Counter({'frames_received': 48})
2018-05-08 21:49:04,018 INFO sim01:Stopping child servers
2018-05-08 21:49:04,018 INFO sim01:Killing sim pid 21629
2018-05-08 21:49:04,071 INFO sim01:Stopped child servers
2018-05-08 21:49:04,072 INFO sim01:Simulator killed.
Trainer  1  process Error!
Trainer  1  after a while return!
Global network initializing!
Network start creation in thread -1!
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 1!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 2!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 3!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 21:56:22.492366: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 21:56:22.609894: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.17GiB
2018-05-08 21:56:22.609926: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 21:56:22.838262: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 21:56:22.838316: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 21:56:22.838327: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 21:56:22.838563: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9835 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 21:56:39,773 INFO {'sim_git_hash': 'd78b9d8', 'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_id': 'sim00'}
2018-05-08 21:56:39,840 INFO {'sim_git_hash': 'd78b9d8', 'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_id': 'sim03'}
2018-05-08 21:56:39,932 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 49074
2018-05-08 21:56:39,933 INFO sim03:Starting sim server at /root/repos/minos/minos/server/server.js with port 32601
2018-05-08 21:56:40,038 INFO {'sim_git_hash': 'd78b9d8', 'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_id': 'sim01'}
2018-05-08 21:56:40,039 INFO {'sim_git_hash': 'd78b9d8', 'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_id': 'sim02'}
2018-05-08 21:56:40,094 INFO sim02:Starting sim server at /root/repos/minos/minos/server/server.js with port 53014
2018-05-08 21:56:40,095 INFO sim01:Starting sim server at /root/repos/minos/minos/server/server.js with port 46924
2018-05-08 21:56:42,258 INFO sim00:connect
2018-05-08 21:56:42,376 INFO sim03:connect
2018-05-08 21:56:42,376 INFO sim02:connect
2018-05-08 21:56:42,417 INFO sim00:inited
2018-05-08 21:56:42,462 INFO sim01:connect
2018-05-08 21:56:42,662 INFO sim02:inited
2018-05-08 21:56:42,691 INFO sim03:inited
2018-05-08 21:56:42,714 INFO sim01:inited
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Trainer  2  process (re)start!
Trainer  3  process (re)start!
Trainer  1  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.277118,1,True,0.070042,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'goal': {'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'cell': {'isValid': True, 'j': 33, 'id': 3475, 'i': 43}}, 'task': 'object_goal', 'start': {'room': '0_9', 'angle': 0.9011509336359915, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'cell': {'isValid': True, 'j': 34, 'id': 3581, 'i': 45}}, 'shortestPath': {'isValid': True, 'doors': ['0_26'], 'distance': 0.2414213562373095, 'rooms': [5]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.181499,1,True,0.070514,0.000000,0.000000,0.241421,1,1
sim02:EPINFO:1,{'goal': {'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'cell': {'isValid': True, 'j': 33, 'id': 3475, 'i': 43}}, 'task': 'object_goal', 'start': {'room': '0_9', 'angle': 0.9011509336359915, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'cell': {'isValid': True, 'j': 34, 'id': 3581, 'i': 45}}, 'shortestPath': {'isValid': True, 'doors': ['0_26'], 'distance': 0.2414213562373095, 'rooms': [5]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.658766,1,True,0.068219,0.000000,0.000000,0.241421,1,1
sim03:EPINFO:1,{'goal': {'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'cell': {'isValid': True, 'j': 33, 'id': 3475, 'i': 43}}, 'task': 'object_goal', 'start': {'room': '0_9', 'angle': 0.9011509336359915, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'cell': {'isValid': True, 'j': 34, 'id': 3581, 'i': 45}}, 'shortestPath': {'isValid': True, 'doors': ['0_26'], 'distance': 0.2414213562373095, 'rooms': [5]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.157609,1,True,0.065973,0.000000,0.000000,0.241421,1,1
sim01:EPINFO:1,{'goal': {'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'cell': {'isValid': True, 'j': 33, 'id': 3475, 'i': 43}}, 'task': 'object_goal', 'start': {'room': '0_9', 'angle': 0.9011509336359915, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'cell': {'isValid': True, 'j': 34, 'id': 3581, 'i': 45}}, 'shortestPath': {'isValid': True, 'doors': ['0_26'], 'distance': 0.2414213562373095, 'rooms': [5]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.870010,24,False,12.834157,1.963594,0.378541,2.648528,1,1
sim00:EPINFO:2,{'goal': {'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'cell': {'isValid': True, 'j': 64, 'id': 6727, 'i': 71}}, 'task': 'object_goal', 'start': {'room': '0_12', 'angle': 3.5610961119708775, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'cell': {'isValid': True, 'j': 44, 'id': 4655, 'i': 79}}, 'shortestPath': {'isValid': True, 'doors': ['0_49'], 'distance': 2.648528137423858, 'rooms': [4]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.882589,24,False,12.748404,1.963594,1.259611,2.648528,1,1
sim02:EPINFO:2,{'goal': {'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'initialOffsetFromAgent': [-2.1966521241357984, 0, 2.15212704231773], 'cell': {'isValid': True, 'j': 64, 'id': 6727, 'i': 71}}, 'task': 'object_goal', 'start': {'room': '0_12', 'angle': 3.5610961119708775, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'cell': {'isValid': True, 'j': 44, 'id': 4655, 'i': 79}}, 'shortestPath': {'isValid': True, 'doors': ['0_49'], 'distance': 2.648528137423858, 'rooms': [4]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.436938,24,False,16.702179,1.963594,0.450595,2.648528,1,1
sim03:EPINFO:2,{'goal': {'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'cell': {'isValid': True, 'j': 64, 'id': 6727, 'i': 71}}, 'task': 'object_goal', 'start': {'room': '0_12', 'angle': 3.5610961119708775, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'cell': {'isValid': True, 'j': 44, 'id': 4655, 'i': 79}}, 'shortestPath': {'isValid': True, 'doors': ['0_49'], 'distance': 2.648528137423858, 'rooms': [4]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Replay buffer filled
Replay buffer filled
Replay buffer filled
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.409226,24,False,17.030629,1.963594,1.376341,2.648528,1,1
sim01:EPINFO:2,{'goal': {'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'cell': {'isValid': True, 'j': 64, 'id': 6727, 'i': 71}}, 'task': 'object_goal', 'start': {'room': '0_12', 'angle': 3.5610961119708775, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'cell': {'isValid': True, 'j': 44, 'id': 4655, 'i': 79}}, 'shortestPath': {'isValid': True, 'doors': ['0_49'], 'distance': 2.648528137423858, 'rooms': [4]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.29854697 0.31612265 0.3853304 ]
Thread 0>>> V=-0.006412185728549957
2018-05-08 21:57:15.086413: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_2/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_2/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 21:57:15.157611: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_2/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_2/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_3/assert_broadcastable/AssertGuard/Switch_0/_470 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_13210...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_3/assert_broadcastable/AssertGuard/Switch_0/_470 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_13210...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_2/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_3/assert_broadcastable/AssertGuard/Switch_0/_470 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_13210...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 21:57:15,900 INFO sim03:disconnect
2018-05-08 21:57:15,900 INFO sim03:Stopping the simulator
2018-05-08 21:57:15,900 INFO Counter({'frames_received': 48})
2018-05-08 21:57:15,900 INFO sim03:Stopping child servers
2018-05-08 21:57:15,901 INFO sim03:Killing sim pid 23618
2018-05-08 21:57:15,940 INFO sim03:Stopped child servers
2018-05-08 21:57:15,940 INFO sim03:Simulator killed.
Trainer  3  process Error!
Trainer  3  after a while return!
2018-05-08 21:57:25.068297: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_1/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_1/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 21:57:25.126860: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_1/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_1/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_1/Placeholder_1' with dtype float and shape [?,88,88,3]
	 [[Node: net_1/Placeholder_1 = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset/_1453 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_11796_gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_1/Placeholder_1' with dtype float and shape [?,88,88,3]
	 [[Node: net_1/Placeholder_1 = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset/_1453 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_11796_gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_1/Placeholder_1', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 100, in _create_network
    self._create_vr_network()
  File "/root/repos/minos_unreal/model/model.py", line 428, in _create_vr_network
    self.vr_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3])
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_1/Placeholder_1' with dtype float and shape [?,88,88,3]
	 [[Node: net_1/Placeholder_1 = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset/_1453 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_11796_gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 21:57:25,643 INFO sim02:disconnect
2018-05-08 21:57:25,643 INFO sim02:Stopping the simulator
2018-05-08 21:57:25,643 INFO Counter({'frames_received': 48})
2018-05-08 21:57:25,644 INFO sim02:Stopping child servers
2018-05-08 21:57:25,644 INFO sim02:Killing sim pid 23634
2018-05-08 21:57:25,685 INFO sim02:Stopped child servers
2018-05-08 21:57:25,685 INFO sim02:Simulator killed.
Trainer  2  process Error!
Trainer  2  after a while return!
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 20
2018-05-08 21:57:37.036815: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 21:57:37.084655: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_2777 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_2777 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_0/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_2777 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 21:57:37,552 INFO sim01:disconnect
2018-05-08 21:57:37,552 INFO sim01:Stopping the simulator
2018-05-08 21:57:37,553 INFO Counter({'frames_received': 48})
2018-05-08 21:57:37,553 INFO sim01:Stopping child servers
2018-05-08 21:57:37,553 INFO sim01:Killing sim pid 23633
2018-05-08 21:57:37,591 INFO sim01:Stopped child servers
2018-05-08 21:57:37,591 INFO sim01:Simulator killed.
Trainer  1  process Error!
Trainer  1  after a while return!
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 7.099822998046875, Base loss: -6.520108222961426, Decoder loss: 10.435469627380371, VR loss: 13.61798095703125, RP loss: 0.0019504959927871823
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: -3.620979070663452, Base loss: -6.553995609283447, Decoder loss: 6.464690685272217, VR loss: 2.9310989379882812, RP loss: 0.0019176499918103218
Thread 0>>> Local step 200:
Thread 0>>> pi=[0.28763318 0.10200988 0.6103569 ]
Thread 0>>> V=-3.0479605197906494
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 9.62752914428711, Base loss: 5.573424816131592, Decoder loss: 10.746652603149414, VR loss: 4.0537848472595215, RP loss: 0.0003191741998307407
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 65.28731536865234, Base loss: 45.57594299316406, Decoder loss: 51.80447769165039, VR loss: 9.90625, RP loss: 9.805120468139648
Thread 0>>> Local step 400:
Thread 0>>> pi=[0.35941726 0.10871372 0.53186905]
Thread 0>>> V=-3.673701286315918
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:3,284ff31467d92cb95f477fea90272abc,63.745377,500,False,7.843706,5.916266,4.855116,6.372792,2,2
sim00:EPINFO:3,{'goal': {'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [2.602705168057261, 0, 3.499526379063618], 'cell': {'isValid': True, 'j': 33, 'id': 3475, 'i': 43}}, 'task': 'object_goal', 'start': {'room': '0_0', 'angle': 1.3271629277210293, 'position': [-39.00107116405902, 0.5950000007450584, -38.9704606620923], 'cell': {'isValid': True, 'j': 93, 'id': 9708, 'i': 36}}, 'shortestPath': {'isValid': True, 'doors': ['0_52', '0_26'], 'distance': 6.3727922061357845, 'rooms': [1, 5]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Thread 0>>> score=-48.938850339254
(20, 88, 88, 3)
Thread 0>>> Total loss: 172.01551818847656, Base loss: 150.4772186279297, Decoder loss: 20.199846267700195, VR loss: 2.173731565475464, RP loss: 19.36456298828125
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:4,284ff31467d92cb95f477fea90272abc,4.294168,91,True,21.191530,3.443701,0.000000,4.279899,2,3
sim00:EPINFO:4,{'goal': {'objectId': '0_25', 'position': [-37.489997912198305, 1.1299999937017284, -43.439998626708984], 'bbox': {'min': [-37.5599979609251, 0.039999958793227375, -43.969998598098755], 'max': [-37.41999786347151, 2.2200000286102295, -42.909998655319214]}, 'initialOffsetFromAgent': [2.3058676477019775, 0, -2.2635060480497975], 'cell': {'isValid': True, 'j': 48, 'id': 5044, 'i': 52}}, 'task': 'object_goal', 'start': {'room': '0_10', 'angle': 3.3466269817994525, 'position': [-40.74632079083767, 0.5950000007450585, -45.27629926285534], 'cell': {'isValid': True, 'j': 30, 'id': 3139, 'i': 19}}, 'shortestPath': {'isValid': True, 'doors': ['0_27', '0_25'], 'distance': 4.2798989873223325, 'rooms': [2, 5, 4]}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc'}
Thread 0>>> score=-5.656299286644448
(11, 88, 88, 3)
Thread 0>>> Local step 600:
Thread 0>>> pi=[0.3362209  0.13432258 0.52945656]
Thread 0>>> V=-3.279848575592041
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 22:00:17.603067: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 22:00:17.712674: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.08GiB
2018-05-08 22:00:17.712718: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 22:00:17.931534: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 22:00:17.931575: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 22:00:17.931584: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 22:00:17.931820: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9753 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 22:00:23,872 INFO {'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim00', 'stk_git_hash': 'd78b9d8'}
2018-05-08 22:00:23,892 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 29411
2018-05-08 22:00:25,904 INFO sim00:connect
2018-05-08 22:00:26,091 INFO sim00:inited
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,12.254447,1,True,0.081603,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'start': {'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'cell': {'id': 3581, 'i': 45, 'isValid': True, 'j': 34}, 'angle': 0.9011509336359915}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'cell': {'id': 3475, 'i': 43, 'isValid': True, 'j': 33}, 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}}, 'task': 'object_goal', 'shortestPath': {'distance': 0.2414213562373095, 'rooms': [5], 'isValid': True, 'doors': ['0_26']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,0.858581,24,False,27.953089,1.963594,0.242142,2.648528,1,1
sim00:EPINFO:2,{'start': {'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'cell': {'id': 4655, 'i': 79, 'isValid': True, 'j': 44}, 'angle': 3.5610961119708775}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'objectId': '0_49', 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'cell': {'id': 6727, 'i': 71, 'isValid': True, 'j': 64}, 'bbox': {'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395], 'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914]}}, 'task': 'object_goal', 'shortestPath': {'distance': 2.648528137423858, 'rooms': [4], 'isValid': True, 'doors': ['0_49']}}
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.3119881  0.37251452 0.31549743]
Thread 0>>> V=-0.35780683159828186
(20, 88, 88, 3)
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 20
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 32.112613677978516, Base loss: 26.212482452392578, Decoder loss: 39.570377349853516, VR loss: 5.9001312255859375, RP loss: 1.1920930376163597e-07
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 13.069228172302246, Base loss: 9.300041198730469, Decoder loss: 21.53127670288086, VR loss: 3.7691867351531982, RP loss: -0.0
Thread 0>>> Local step 200:
Thread 0>>> pi=[0.354004   0.28084904 0.36514696]
Thread 0>>> V=-2.5145509243011475
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 14.124848365783691, Base loss: -4.725860118865967, Decoder loss: 7.010528087615967, VR loss: 1.339569330215454, RP loss: 17.511138916015625
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: -1.7601652145385742, Base loss: -5.14576530456543, Decoder loss: 6.9260101318359375, VR loss: 3.3856000900268555, RP loss: -0.0
Thread 0>>> Local step 400:
Thread 0>>> pi=[0.34646812 0.23797517 0.41555667]
Thread 0>>> V=-3.1041409969329834
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:3,284ff31467d92cb95f477fea90272abc,34.519526,500,False,14.484556,5.916266,2.574671,6.372792,2,2
sim00:EPINFO:3,{'start': {'room': '0_0', 'position': [-39.00107116405902, 0.5950000007450584, -38.9704606620923], 'cell': {'id': 9708, 'i': 36, 'isValid': True, 'j': 93}, 'angle': 1.3271629277210293}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [0.1208958764276109, 0, 4.682083776559382], 'objectId': '0_26', 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'cell': {'id': 3475, 'i': 43, 'isValid': True, 'j': 33}, 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}}, 'task': 'object_goal', 'shortestPath': {'distance': 6.3727922061357845, 'rooms': [1, 5], 'isValid': True, 'doors': ['0_52', '0_26']}}
Thread 0>>> score=-46.658404725451724
(20, 88, 88, 3)
Thread 0>>> Total loss: 107.25189208984375, Base loss: 103.87020874023438, Decoder loss: 6.804583549499512, VR loss: 3.381683588027954, RP loss: -0.0
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: -0.8041074275970459, Base loss: -3.5572476387023926, Decoder loss: 6.681434154510498, VR loss: 2.7531402111053467, RP loss: -0.0
Thread 0>>> Local step 600:
Thread 0>>> pi=[0.2907668  0.26999003 0.43924317]
Thread 0>>> V=-3.763813018798828
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 1.4833860397338867, Base loss: -1.704789161682129, Decoder loss: 6.305417060852051, VR loss: 3.1881752014160156, RP loss: -0.0
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 1.8605425357818604, Base loss: -0.399932861328125, Decoder loss: 7.264867782592773, VR loss: 2.2604753971099854, RP loss: -0.0
Thread 0>>> Local step 800:
Thread 0>>> pi=[0.15169588 0.269037   0.5792671 ]
Thread 0>>> V=-4.702224254608154
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 1.4833874702453613, Base loss: -0.7452926635742188, Decoder loss: 5.6164631843566895, VR loss: 2.22868013381958, RP loss: -0.0
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:4,284ff31467d92cb95f477fea90272abc,24.194343,500,False,20.665988,3.443701,2.386505,4.279899,2,3
sim00:EPINFO:4,{'start': {'room': '0_10', 'position': [-40.74632079083767, 0.5950000007450585, -45.27629926285534], 'cell': {'id': 3139, 'i': 19, 'isValid': True, 'j': 30}, 'angle': 3.3466269817994525}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [0.9414025825999839, 0, 2.057180876004202], 'objectId': '0_25', 'position': [-37.489997912198305, 1.1299999937017284, -43.439998626708984], 'cell': {'id': 5044, 'i': 52, 'isValid': True, 'j': 48}, 'bbox': {'max': [-37.41999786347151, 2.2200000286102295, -42.909998655319214], 'min': [-37.5599979609251, 0.039999958793227375, -43.969998598098755]}}, 'task': 'object_goal', 'shortestPath': {'distance': 4.2798989873223325, 'rooms': [2, 5, 4], 'isValid': True, 'doors': ['0_27', '0_25']}}
Thread 0>>> score=-48.942804366278686
(20, 88, 88, 3)
Thread 0>>> Total loss: 179.8212890625, Base loss: 177.8209228515625, Decoder loss: 5.180362224578857, VR loss: 2.000370979309082, RP loss: -0.0
### Performance : 980 STEPS in 75 sec. 13 STEPS/sec. 0.05M STEPS/hour
Thread 0>>> Local step 1000:
Thread 0>>> pi=[0.29810068 0.26574016 0.43615916]
Thread 0>>> V=-3.8919765949249268
(20, 88, 88, 3)
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 1020
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 2.2932302951812744, Base loss: 0.22076892852783203, Decoder loss: 9.411334991455078, VR loss: 2.0724599361419678, RP loss: 1.4305124977909145e-06
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 11.800939559936523, Base loss: 9.92251205444336, Decoder loss: 17.70333480834961, VR loss: 1.8784279823303223, RP loss: 2.3841860752327193e-07
Thread 0>>> Local step 1200:
Thread 0>>> pi=[0.19424935 0.3462318  0.45951888]
Thread 0>>> V=-5.4078545570373535
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 45.533329010009766, Base loss: 12.589776992797852, Decoder loss: 17.23678970336914, VR loss: 3.8414106369018555, RP loss: 29.102142333984375
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 0.33441734313964844, Base loss: -2.0507545471191406, Decoder loss: 6.493882179260254, VR loss: 2.385171890258789, RP loss: -0.0
Thread 0>>> Local step 1400:
Thread 0>>> pi=[0.24166876 0.4053246  0.3530067 ]
Thread 0>>> V=-5.825213432312012
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:5,284ff31467d92cb95f477fea90272abc,23.739641,483,True,20.345716,4.412825,0.000000,6.059798,2,3
sim00:EPINFO:5,{'start': {'room': '0_0', 'position': [-40.72052469915735, 0.5950000007450585, -39.42303286945589], 'cell': {'id': 9171, 'i': 19, 'isValid': True, 'j': 88}, 'angle': 3.810156981740355}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-0.3053422852234487, 0, 0.11524585013136814], 'objectId': '0_27', 'position': [-39.829997915774584, 1.1301199109994169, -44.290000915527344], 'cell': {'id': 4188, 'i': 28, 'isValid': True, 'j': 40}, 'bbox': {'max': [-39.75425221771002, 2.2202398777008057, -43.75998491048813], 'min': [-39.90574361383915, 0.03999994429802811, -44.82001692056656]}}, 'task': 'object_goal', 'shortestPath': {'distance': 6.059797974644663, 'rooms': [1, 5, 2], 'isValid': True, 'doors': ['0_52', '0_27']}}
Thread 0>>> score=-43.88717536908543
(3, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 20.443639755249023, Base loss: -4.726447105407715, Decoder loss: 5.137184143066406, VR loss: 0.9523712396621704, RP loss: 24.217716217041016
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 1600:
Thread 0>>> pi=[0.2122847 0.3304742 0.4572411]
Thread 0>>> V=-5.623732089996338
(20, 88, 88, 3)
Thread 0>>> Total loss: -2.8954644203186035, Base loss: -4.471888065338135, Decoder loss: 4.798547267913818, VR loss: 1.5764235258102417, RP loss: -0.0
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Total loss: 20.430091857910156, Base loss: 18.8920841217041, Decoder loss: 26.16803741455078, VR loss: 1.5380067825317383, RP loss: 1.1920930376163597e-07
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 1800:
Thread 0>>> pi=[0.20207913 0.2609022  0.53701866]
Thread 0>>> V=-5.769436836242676
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 1!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 2!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 3!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 22:03:58.689011: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 22:03:58.801227: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.00GiB
2018-05-08 22:03:58.801260: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 22:03:59.028905: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 22:03:59.028945: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 22:03:59.028955: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 22:03:59.029169: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9670 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 22:04:16,253 INFO {'sim_id': 'sim02', 'machine': 'iitp-04', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8'}
2018-05-08 22:04:16,274 INFO sim02:Starting sim server at /root/repos/minos/minos/server/server.js with port 37590
2018-05-08 22:04:16,309 INFO {'sim_id': 'sim00', 'machine': 'iitp-04', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8'}
2018-05-08 22:04:16,380 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 31105
2018-05-08 22:04:16,509 INFO {'sim_id': 'sim03', 'machine': 'iitp-04', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8'}
2018-05-08 22:04:16,531 INFO sim03:Starting sim server at /root/repos/minos/minos/server/server.js with port 39717
2018-05-08 22:04:16,639 INFO {'sim_id': 'sim01', 'machine': 'iitp-04', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8'}
2018-05-08 22:04:16,660 INFO sim01:Starting sim server at /root/repos/minos/minos/server/server.js with port 28861
2018-05-08 22:04:18,630 INFO sim02:connect
2018-05-08 22:04:18,785 INFO sim00:connect
2018-05-08 22:04:18,908 INFO sim03:connect
2018-05-08 22:04:18,983 INFO sim01:connect
2018-05-08 22:04:18,984 INFO sim02:inited
2018-05-08 22:04:19,548 INFO sim00:inited
2018-05-08 22:04:19,653 INFO sim03:inited
2018-05-08 22:04:19,799 INFO sim01:inited
val:32 episodes
train:87 episodes
test:34 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
val:32 episodes
train:87 episodes
test:34 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
val:32 episodes
train:87 episodes
test:34 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
val:32 episodes
train:87 episodes
test:34 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  2  process (re)start!
Trainer  0  process (re)start!
Trainer  3  process (re)start!
Trainer  1  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.190517,1,True,0.065831,0.000000,0.000000,0.241421,1,1
sim02:EPINFO:1,{'task': 'object_goal', 'shortestPath': {'doors': ['0_26'], 'rooms': [5], 'isValid': True, 'distance': 0.2414213562373095}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915, 'cell': {'i': 45, 'isValid': True, 'id': 3581, 'j': 34}}, 'goal': {'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.049159,1,True,0.066449,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'task': 'object_goal', 'shortestPath': {'doors': ['0_26'], 'rooms': [5], 'isValid': True, 'distance': 0.2414213562373095}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915, 'cell': {'i': 45, 'isValid': True, 'id': 3581, 'j': 34}}, 'goal': {'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.406464,1,True,0.064908,0.000000,0.000000,0.241421,1,1
sim03:EPINFO:1,{'task': 'object_goal', 'shortestPath': {'doors': ['0_26'], 'rooms': [5], 'isValid': True, 'distance': 0.2414213562373095}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915, 'cell': {'i': 45, 'isValid': True, 'id': 3581, 'j': 34}}, 'goal': {'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.919722,1,True,0.062815,0.000000,0.000000,0.241421,1,1
sim01:EPINFO:1,{'task': 'object_goal', 'shortestPath': {'doors': ['0_26'], 'rooms': [5], 'isValid': True, 'distance': 0.2414213562373095}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915, 'cell': {'i': 45, 'isValid': True, 'id': 3581, 'j': 34}}, 'goal': {'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.596005,24,False,15.037545,1.963594,1.782363,2.648528,1,1
sim03:EPINFO:2,{'task': 'object_goal', 'shortestPath': {'doors': ['0_49'], 'rooms': [4], 'isValid': True, 'distance': 2.648528137423858}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775, 'cell': {'i': 79, 'isValid': True, 'id': 4655, 'j': 44}}, 'goal': {'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'objectId': '0_49', 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'cell': {'i': 71, 'isValid': True, 'id': 6727, 'j': 64}}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,2.122451,24,False,11.307684,1.963594,1.034004,2.648528,1,1
sim00:EPINFO:2,{'task': 'object_goal', 'shortestPath': {'doors': ['0_49'], 'rooms': [4], 'isValid': True, 'distance': 2.648528137423858}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775, 'cell': {'i': 79, 'isValid': True, 'id': 4655, 'j': 44}}, 'goal': {'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'objectId': '0_49', 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'cell': {'i': 71, 'isValid': True, 'id': 6727, 'j': 64}}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:2,284ff31467d92cb95f477fea90272abc,2.141003,24,False,11.209701,1.963594,0.131086,2.648528,1,1
sim02:EPINFO:2,{'task': 'object_goal', 'shortestPath': {'doors': ['0_49'], 'rooms': [4], 'isValid': True, 'distance': 2.648528137423858}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775, 'cell': {'i': 79, 'isValid': True, 'id': 4655, 'j': 44}}, 'goal': {'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'objectId': '0_49', 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'cell': {'i': 71, 'isValid': True, 'id': 6727, 'j': 64}}}
Replay buffer filled
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.180378,24,False,20.332462,1.963594,0.148338,2.648528,1,1
sim01:EPINFO:2,{'task': 'object_goal', 'shortestPath': {'doors': ['0_49'], 'rooms': [4], 'isValid': True, 'distance': 2.648528137423858}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'start': {'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775, 'cell': {'i': 79, 'isValid': True, 'id': 4655, 'j': 44}}, 'goal': {'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'objectId': '0_49', 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'cell': {'i': 71, 'isValid': True, 'id': 6727, 'j': 64}}}
Replay buffer filled
Replay buffer filled
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.41937193 0.31339145 0.26723668]
Thread 0>>> V=-0.4024156630039215
2018-05-08 22:04:49.211195: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_1/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_1/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 22:04:49.269592: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_1/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_1/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_1/Placeholder_1' with dtype float and shape [?,88,88,3]
	 [[Node: net_1/Placeholder_1 = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset/_519 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_11796_gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_1/Placeholder_1' with dtype float and shape [?,88,88,3]
	 [[Node: net_1/Placeholder_1 = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset/_519 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_11796_gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_1/Placeholder_1', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 100, in _create_network
    self._create_vr_network()
  File "/root/repos/minos_unreal/model/model.py", line 428, in _create_vr_network
    self.vr_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3])
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_1/Placeholder_1' with dtype float and shape [?,88,88,3]
	 [[Node: net_1/Placeholder_1 = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset/_519 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_11796_gradients_2/net_2/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 22:04:49,927 INFO sim02:disconnect
2018-05-08 22:04:49,927 INFO sim02:Stopping the simulator
2018-05-08 22:04:49,927 INFO Counter({'frames_received': 48})
2018-05-08 22:04:49,928 INFO sim02:Stopping child servers
2018-05-08 22:04:49,928 INFO sim02:Killing sim pid 26520
2018-05-08 22:04:49,964 INFO sim02:Stopped child servers
2018-05-08 22:04:49,964 INFO sim02:Simulator killed.
Trainer  2  process Error!
Trainer  2  after a while return!
2018-05-08 22:04:58.301955: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 22:04:58.363129: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
(20, 88, 88, 3)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_1247 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_1247 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_0/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_1247 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 22:04:58,832 INFO sim01:disconnect
2018-05-08 22:04:58,832 INFO sim01:Stopping the simulator
2018-05-08 22:04:58,832 INFO Counter({'frames_received': 48})
2018-05-08 22:04:58,832 INFO sim01:Stopping child servers
2018-05-08 22:04:58,833 INFO sim01:Killing sim pid 26548
2018-05-08 22:04:58,866 INFO sim01:Stopped child servers
2018-05-08 22:04:58,866 INFO sim01:Simulator killed.
Trainer  1  process Error!
Trainer  1  after a while return!
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 20
2018-05-08 22:05:14.853537: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_2/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_2/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 22:05:14.942442: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_2/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_2/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset/_3313 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_21310_gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset/_3313 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_21310_gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_2/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_2/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_2/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset/_3313 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_21310_gradients_3/net_3/base_encoder/d8/concat_grad/ConcatOffset", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 22:05:15,574 INFO sim03:disconnect
2018-05-08 22:05:15,575 INFO sim03:Stopping the simulator
2018-05-08 22:05:15,575 INFO Counter({'frames_received': 48})
2018-05-08 22:05:15,575 INFO sim03:Stopping child servers
2018-05-08 22:05:15,575 INFO sim03:Killing sim pid 26539
2018-05-08 22:05:15,616 INFO sim03:Stopped child servers
2018-05-08 22:05:15,616 INFO sim03:Simulator killed.
(20, 88, 88, 3)
Trainer  3  process Error!
Trainer  3  after a while return!
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 200:
Thread 0>>> pi=[0.32840842 0.3335946  0.33799705]
Thread 0>>> V=-2.355536937713623
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 1!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 2!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 3!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 22:13:11.270651: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 22:13:11.407707: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.11GiB
2018-05-08 22:13:11.407740: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 22:13:11.636230: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 22:13:11.636287: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 22:13:11.636296: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 22:13:11.636550: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9780 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 22:13:28,654 INFO {'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim00'}
2018-05-08 22:13:28,680 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 26845
2018-05-08 22:13:28,714 INFO {'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim02'}
2018-05-08 22:13:28,775 INFO sim02:Starting sim server at /root/repos/minos/minos/server/server.js with port 31063
2018-05-08 22:13:28,888 INFO {'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim01'}
2018-05-08 22:13:28,921 INFO sim01:Starting sim server at /root/repos/minos/minos/server/server.js with port 28412
2018-05-08 22:13:29,034 INFO {'stk_git_hash': 'd78b9d8', 'machine': 'iitp-04', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim03'}
2018-05-08 22:13:29,054 INFO sim03:Starting sim server at /root/repos/minos/minos/server/server.js with port 17575
2018-05-08 22:13:30,905 INFO sim00:connect
2018-05-08 22:13:30,988 INFO sim02:connect
2018-05-08 22:13:31,116 INFO sim00:inited
2018-05-08 22:13:31,151 INFO sim01:connect
2018-05-08 22:13:31,181 INFO sim02:inited
2018-05-08 22:13:31,271 INFO sim03:connect
2018-05-08 22:13:31,364 INFO sim01:inited
2018-05-08 22:13:31,484 INFO sim03:inited
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Trainer  1  process (re)start!
Trainer  3  process (re)start!
Trainer  2  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.428130,1,True,0.069309,0.000000,0.000000,0.241421,1,1
sim01:EPINFO:1,{'start': {'room': '0_9', 'angle': 0.9011509336359915, 'cell': {'i': 45, 'id': 3581, 'isValid': True, 'j': 34}, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26'}, 'shortestPath': {'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5], 'doors': ['0_26']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.676336,1,True,0.068137,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'start': {'room': '0_9', 'angle': 0.9011509336359915, 'cell': {'i': 45, 'id': 3581, 'isValid': True, 'j': 34}, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26'}, 'shortestPath': {'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5], 'doors': ['0_26']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:1,284ff31467d92cb95f477fea90272abc,14.781432,1,True,0.067652,0.000000,0.000000,0.241421,1,1
sim03:EPINFO:1,{'start': {'room': '0_9', 'angle': 0.9011509336359915, 'cell': {'i': 45, 'id': 3581, 'isValid': True, 'j': 34}, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26'}, 'shortestPath': {'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5], 'doors': ['0_26']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:1,284ff31467d92cb95f477fea90272abc,15.630927,1,True,0.063976,0.000000,0.000000,0.241421,1,1
sim02:EPINFO:1,{'start': {'room': '0_9', 'angle': 0.9011509336359915, 'cell': {'i': 45, 'id': 3581, 'isValid': True, 'j': 34}, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26'}, 'shortestPath': {'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5], 'doors': ['0_26']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.647058,19,True,11.535722,1.963594,0.000000,2.648528,1,1
sim00:EPINFO:2,{'start': {'room': '0_12', 'angle': 3.5610961119708775, 'cell': {'i': 79, 'id': 4655, 'isValid': True, 'j': 44}, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'bbox': {'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395], 'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914]}, 'cell': {'i': 71, 'id': 6727, 'isValid': True, 'j': 64}, 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'objectId': '0_49'}, 'shortestPath': {'distance': 2.648528137423858, 'isValid': True, 'rooms': [4], 'doors': ['0_49']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim03:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.390584,24,False,17.258930,1.963594,1.763810,2.648528,1,1
sim03:EPINFO:2,{'start': {'room': '0_12', 'angle': 3.5610961119708775, 'cell': {'i': 79, 'id': 4655, 'isValid': True, 'j': 44}, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'bbox': {'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395], 'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914]}, 'cell': {'i': 71, 'id': 6727, 'isValid': True, 'j': 64}, 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'objectId': '0_49'}, 'shortestPath': {'distance': 2.648528137423858, 'isValid': True, 'rooms': [4], 'doors': ['0_49']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.872599,24,False,12.816414,1.963594,1.301236,2.648528,1,1
sim01:EPINFO:2,{'start': {'room': '0_12', 'angle': 3.5610961119708775, 'cell': {'i': 79, 'id': 4655, 'isValid': True, 'j': 44}, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'bbox': {'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395], 'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914]}, 'cell': {'i': 71, 'id': 6727, 'isValid': True, 'j': 64}, 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'objectId': '0_49'}, 'shortestPath': {'distance': 2.648528137423858, 'isValid': True, 'rooms': [4], 'doors': ['0_49']}}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:3,284ff31467d92cb95f477fea90272abc,0.401786,5,False,12.444433,5.916266,5.873008,6.372792,2,2
sim00:EPINFO:3,{'start': {'room': '0_0', 'angle': 1.3271629277210293, 'cell': {'i': 36, 'id': 9708, 'isValid': True, 'j': 93}, 'position': [-39.00107116405902, 0.5950000007450584, -38.9704606620923]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [3.7278956156719416, 0, 1.8664275283778693], 'bbox': {'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525], 'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26'}, 'shortestPath': {'distance': 6.3727922061357845, 'isValid': True, 'rooms': [1, 5], 'doors': ['0_52', '0_26']}}
Replay buffer filled
Replay buffer filled
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim02:EPISODE:2,284ff31467d92cb95f477fea90272abc,1.056580,24,False,22.714800,1.963594,1.180798,2.648528,1,1
sim02:EPINFO:2,{'start': {'room': '0_12', 'angle': 3.5610961119708775, 'cell': {'i': 79, 'id': 4655, 'isValid': True, 'j': 44}, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676]}, 'task': 'object_goal', 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'goal': {'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035], 'bbox': {'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395], 'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914]}, 'cell': {'i': 71, 'id': 6727, 'isValid': True, 'j': 64}, 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'objectId': '0_49'}, 'shortestPath': {'distance': 2.648528137423858, 'isValid': True, 'rooms': [4], 'doors': ['0_49']}}
Replay buffer filled
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.37652344 0.21936527 0.40411136]
Thread 0>>> V=0.023903831839561462
(20, 88, 88, 3)
(20, 88, 88, 3)
Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 508, in process
    with tf.control_dependencies([grad_check]):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 5027, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 4631, in control_dependencies
    c = self.as_graph_element(c)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3590, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3679, in _as_graph_element_locked
    types_str))
TypeError: Can not convert a NoneType into a Tensor or Operation.

2018-05-08 22:13:51,703 INFO sim01:disconnect
2018-05-08 22:13:51,703 INFO sim01:Stopping the simulator
2018-05-08 22:13:51,703 INFO Counter({'frames_received': 48})
2018-05-08 22:13:51,704 INFO sim01:Stopping child servers
2018-05-08 22:13:51,704 INFO sim01:Killing sim pid 28378
2018-05-08 22:13:51,744 INFO sim01:Stopped child servers
2018-05-08 22:13:51,744 INFO sim01:Simulator killed.
Trainer  1  process Error!
Trainer  1  after a while return!
Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 508, in process
    with tf.control_dependencies([grad_check]):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 5027, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 4631, in control_dependencies
    c = self.as_graph_element(c)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3590, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3679, in _as_graph_element_locked
    types_str))
TypeError: Can not convert a NoneType into a Tensor or Operation.

2018-05-08 22:13:52,241 INFO sim03:disconnect
2018-05-08 22:13:52,241 INFO sim03:Stopping the simulator
2018-05-08 22:13:52,241 INFO Counter({'frames_received': 48})
2018-05-08 22:13:52,241 INFO sim03:Stopping child servers
2018-05-08 22:13:52,241 INFO sim03:Killing sim pid 28387
2018-05-08 22:13:52,279 INFO sim03:Stopped child servers
2018-05-08 22:13:52,279 INFO sim03:Simulator killed.
Trainer  3  process Error!
Trainer  3  after a while return!
(20, 88, 88, 3)
(20, 88, 88, 3)
Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 508, in process
    with tf.control_dependencies([grad_check]):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 5027, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 4631, in control_dependencies
    c = self.as_graph_element(c)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3590, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3679, in _as_graph_element_locked
    types_str))
TypeError: Can not convert a NoneType into a Tensor or Operation.

2018-05-08 22:13:53,833 INFO sim02:disconnect
2018-05-08 22:13:53,833 INFO sim02:Stopping the simulator
2018-05-08 22:13:53,833 INFO Counter({'frames_received': 48})
2018-05-08 22:13:53,833 INFO sim02:Stopping child servers
2018-05-08 22:13:53,834 INFO sim02:Killing sim pid 28368
2018-05-08 22:13:53,876 INFO sim02:Stopped child servers
2018-05-08 22:13:53,876 INFO sim02:Simulator killed.
Trainer  2  process Error!
Trainer  2  after a while return!
Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 508, in process
    with tf.control_dependencies([grad_check]):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 5027, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 4631, in control_dependencies
    c = self.as_graph_element(c)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3590, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3679, in _as_graph_element_locked
    types_str))
TypeError: Can not convert a NoneType into a Tensor or Operation.

2018-05-08 22:13:54,356 INFO sim00:disconnect
2018-05-08 22:13:54,356 INFO sim00:Stopping the simulator
2018-05-08 22:13:54,356 INFO Counter({'frames_received': 49})
2018-05-08 22:13:54,356 INFO sim00:Stopping child servers
2018-05-08 22:13:54,356 INFO sim00:Killing sim pid 28359
2018-05-08 22:13:54,403 INFO sim00:Stopped child servers
2018-05-08 22:13:54,403 INFO sim00:Simulator killed.
Trainer  0  process Error!
Trainer  0  after a while return!
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 1!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 22:15:23.607266: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 22:15:23.766138: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.12GiB
2018-05-08 22:15:23.766173: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 22:15:24.005348: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 22:15:24.005387: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 22:15:24.005396: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 22:15:24.005635: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9794 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 22:15:33,387 INFO {'sim_id': 'sim01', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8', 'machine': 'iitp-04'}
2018-05-08 22:15:33,412 INFO sim01:Starting sim server at /root/repos/minos/minos/server/server.js with port 36191
2018-05-08 22:15:33,435 INFO {'sim_id': 'sim00', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8', 'machine': 'iitp-04'}
2018-05-08 22:15:33,461 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 12250
2018-05-08 22:15:35,472 INFO sim01:connect
2018-05-08 22:15:35,561 INFO sim00:connect
2018-05-08 22:15:35,671 INFO sim01:inited
2018-05-08 22:15:35,779 INFO sim00:inited
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
train:87 episodes
test:34 episodes
val:32 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Trainer  1  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,12.732640,1,True,0.078538,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'start': {'cell': {'i': 45, 'id': 3581, 'isValid': True, 'j': 34}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'goal': {'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26', 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525]}, 'shortestPath': {'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5], 'doors': ['0_26']}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:1,284ff31467d92cb95f477fea90272abc,12.819584,1,True,0.078006,0.000000,0.000000,0.241421,1,1
sim01:EPINFO:1,{'start': {'cell': {'i': 45, 'id': 3581, 'isValid': True, 'j': 34}, 'room': '0_9', 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915}, 'goal': {'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'cell': {'i': 43, 'id': 3475, 'isValid': True, 'j': 33}, 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982], 'objectId': '0_26', 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525]}, 'shortestPath': {'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5], 'doors': ['0_26']}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,0.866896,24,False,27.684969,1.963594,0.509442,2.648528,1,1
sim00:EPINFO:2,{'start': {'cell': {'i': 79, 'id': 4655, 'isValid': True, 'j': 44}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'goal': {'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'cell': {'i': 71, 'id': 6727, 'isValid': True, 'j': 64}, 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'objectId': '0_49', 'initialOffsetFromAgent': [-1.9095978247739351, 0, 2.6104703915137035]}, 'shortestPath': {'distance': 2.648528137423858, 'isValid': True, 'rooms': [4], 'doors': ['0_49']}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:2,284ff31467d92cb95f477fea90272abc,0.882355,24,False,27.199923,1.963594,0.244282,2.648528,1,1
sim01:EPINFO:2,{'start': {'cell': {'i': 79, 'id': 4655, 'isValid': True, 'j': 44}, 'room': '0_12', 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775}, 'goal': {'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'cell': {'i': 71, 'id': 6727, 'isValid': True, 'j': 64}, 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493], 'objectId': '0_49', 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883]}, 'shortestPath': {'distance': 2.648528137423858, 'isValid': True, 'rooms': [4], 'doors': ['0_49']}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'task': 'object_goal'}
Replay buffer filled
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.39598715 0.35027924 0.25373352]
Thread 0>>> V=0.1203126460313797
(20, 88, 88, 3)
(20, 88, 88, 3)
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 20
2018-05-08 22:16:04.183843: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 22:16:04.232976: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
(20, 88, 88, 3)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_1/assert_broadcastable/AssertGuard/Switch_0/_1082 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3885_...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_1/assert_broadcastable/AssertGuard/Switch_0/_1082 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3885_...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_0/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: ConstantFoldingCtrl/sparse_softmax_cross_entropy_loss_1/assert_broadcastable/AssertGuard/Switch_0/_1082 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3885_...d/Switch_0", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 22:16:04,709 INFO sim01:disconnect
2018-05-08 22:16:04,710 INFO sim01:Stopping the simulator
2018-05-08 22:16:04,710 INFO Counter({'frames_received': 48})
2018-05-08 22:16:04,710 INFO sim01:Stopping child servers
2018-05-08 22:16:04,710 INFO sim01:Killing sim pid 29502
2018-05-08 22:16:04,752 INFO sim01:Stopped child servers
2018-05-08 22:16:04,753 INFO sim01:Simulator killed.
Trainer  1  process Error!
Trainer  1  after a while return!
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 200:
Thread 0>>> pi=[0.3400354  0.37300736 0.28695723]
Thread 0>>> V=-2.2349014282226562
Global network initializing!
Network start creation in thread -1!
Network start creation in thread 0!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
Network start creation in thread 1!
- Using Class Weights: 
 [25.55382055, 2.02904385, 4.22482301, 14.68550062, 26.92127905, 21.18040629, 28.08939361, 46.68124414, 46.96535273]
Slots: rmsprop create
Slots: rmsprop created
2018-05-08 22:29:43.661500: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-05-08 22:29:43.842461: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582
pciBusID: 0000:06:00.0
totalMemory: 10.92GiB freeMemory: 10.10GiB
2018-05-08 22:29:43.842497: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-05-08 22:29:44.072531: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-05-08 22:29:44.072578: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-05-08 22:29:44.072587: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-05-08 22:29:44.072829: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 9770 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)
Could not find old checkpoint
Ready to start
Press Ctrl+C to stop
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2018-05-08 22:29:53,473 INFO {'machine': 'iitp-04', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim01'}
2018-05-08 22:29:53,495 INFO sim01:Starting sim server at /root/repos/minos/minos/server/server.js with port 20451
2018-05-08 22:29:53,518 INFO {'machine': 'iitp-04', 'stk_git_hash': 'd78b9d8', 'sim_git_hash': 'd78b9d8', 'sim_id': 'sim00'}
2018-05-08 22:29:53,543 INFO sim00:Starting sim server at /root/repos/minos/minos/server/server.js with port 41199
2018-05-08 22:29:55,561 INFO sim01:connect
2018-05-08 22:29:55,660 INFO sim00:connect
2018-05-08 22:29:55,793 INFO sim01:inited
2018-05-08 22:29:55,877 INFO sim00:inited
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
test:34 episodes
val:32 episodes
train:87 episodes
>>>seed:  2620
>>>seed:  2620
>>>seed:  2620
/root/repos/minos/minos/config/../../objectTypes_3x.csv
/root/repos/minos/minos/config/../../objectTypes_3x.csv
Trainer  0  process (re)start!
Trainer  1  process (re)start!
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:1,284ff31467d92cb95f477fea90272abc,12.715646,1,True,0.078643,0.000000,0.000000,0.241421,1,1
sim01:EPINFO:1,{'goal': {'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}, 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982]}, 'start': {'cell': {'i': 45, 'isValid': True, 'id': 3581, 'j': 34}, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915, 'room': '0_9'}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'shortestPath': {'doors': ['0_26'], 'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5]}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:1,284ff31467d92cb95f477fea90272abc,12.626806,1,True,0.079197,0.000000,0.000000,0.241421,1,1
sim00:EPINFO:1,{'goal': {'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}, 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [-37.76998323202133, 0.03999994429802811, -44.88425328582525], 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982]}, 'start': {'cell': {'i': 45, 'isValid': True, 'id': 3581, 'j': 34}, 'position': [-38.11293751289739, 0.5950000007450587, -44.9034029661228], 'angle': 0.9011509336359915, 'room': '0_9'}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'shortestPath': {'doors': ['0_26'], 'distance': 0.2414213562373095, 'isValid': True, 'rooms': [5]}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:2,284ff31467d92cb95f477fea90272abc,0.836971,24,False,28.674835,1.963594,1.066990,2.648528,1,1
sim00:EPINFO:2,{'goal': {'cell': {'i': 71, 'isValid': True, 'id': 6727, 'j': 64}, 'objectId': '0_49', 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'initialOffsetFromAgent': [-2.1966521241357984, 0, 2.15212704231773], 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493]}, 'start': {'cell': {'i': 79, 'isValid': True, 'id': 4655, 'j': 44}, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775, 'room': '0_12'}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'shortestPath': {'doors': ['0_49'], 'distance': 2.648528137423858, 'isValid': True, 'rooms': [4]}, 'task': 'object_goal'}
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim01:EPISODE:2,284ff31467d92cb95f477fea90272abc,0.902783,24,False,26.584471,1.963594,0.006820,2.648528,1,1
sim01:EPINFO:2,{'goal': {'cell': {'i': 71, 'isValid': True, 'id': 6727, 'j': 64}, 'objectId': '0_49', 'bbox': {'min': [-37.40833055973053, 0.039999959011787434, -41.910000152885914], 'max': [-33.708330512046814, 2.690000057220459, -41.77500005066395]}, 'initialOffsetFromAgent': [-1.592428026976945, 0, 2.6307991826902883], 'position': [-35.55833053588867, 1.365000008116123, -41.84250010177493]}, 'start': {'cell': {'i': 79, 'isValid': True, 'id': 4655, 'j': 44}, 'position': [-34.69129597844151, 0.5950000007450585, -43.873593676664676], 'angle': 3.5610961119708775, 'room': '0_12'}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'shortestPath': {'doors': ['0_49'], 'distance': 2.648528137423858, 'isValid': True, 'rooms': [4]}, 'task': 'object_goal'}
Replay buffer filled
Replay buffer filled
Thread 0>>> Local step 0:
Thread 0>>> pi=[0.33032    0.368746   0.30093405]
Thread 0>>> V=-0.007120206952095032
(20, 88, 88, 3)
(20, 88, 88, 3)
Trainer 0>>> stop_requested: False, terminate_requested: False, global_t: 20
2018-05-08 22:30:24.200670: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
2018-05-08 22:30:24.249098: E tensorflow/core/common_runtime/executor.cc:660] Executor failed to create kernel. Invalid argument: Default MaxPoolingOp only supports NHWC on device type CPU
	 [[Node: net_0/base_encoder/d1/maxpool/MaxPool = MaxPool[T=DT_FLOAT, data_format="NCHW", ksize=[1, 1, 2, 2], padding="VALID", strides=[1, 1, 2, 2], _device="/job:localhost/replica:0/task:0/device:GPU:0"](net_0/base_encoder/d1/maxpool/MaxPool-0-TransposeNHWCToNCHW-LayoutOptimizer)]]
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1322, in _do_call
    return fn(*args)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1307, in _run_fn
    options, feed_dict, fetch_list, target_list, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1409, in _call_tf_sessionrun
    run_metadata)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_1033 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 103, in train_function
    self.score_input)
  File "/root/repos/minos_unreal/train/trainer.py", line 514, in process
    feed_dict=feed_dict, options=run_options)
  File "main.py", line 236, in run_
    return self.sess.__run(*args, **kwargs)  # getattr(self, "__run")(self, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_1033 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'net_0/base_input', defined at:
  File "main.py", line 362, in <module>
    tf.app.run()
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py", line 126, in run
    _sys.exit(main(argv))
  File "main.py", line 359, in main
    app.run()
  File "main.py", line 225, in run
    n_classes = flags.n_classes)
  File "/root/repos/minos_unreal/train/trainer.py", line 94, in __init__
    n_classes=n_classes)
  File "/root/repos/minos_unreal/model/model.py", line 81, in __init__
    self._create_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 90, in _create_network
    self._create_base_network(for_display)
  File "/root/repos/minos_unreal/model/model.py", line 118, in _create_base_network
    self.base_input = tf.placeholder("float", [None, self._image_shape[0], self._image_shape[1], 3], name='base_input')
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/array_ops.py", line 1808, in placeholder
    return gen_array_ops.placeholder(dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 4848, in placeholder
    "Placeholder", dtype=dtype, shape=shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'net_0/base_input' with dtype float and shape [?,88,88,3]
	 [[Node: net_0/base_input = Placeholder[dtype=DT_FLOAT, shape=[?,88,88,3], _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
	 [[Node: gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1/_1033 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_3559_gradients_1/net_1/base_decoder/fres18/add_grad/Shape_1", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]


2018-05-08 22:30:24,716 INFO sim01:disconnect
2018-05-08 22:30:24,716 INFO sim01:Stopping the simulator
2018-05-08 22:30:24,716 INFO Counter({'frames_received': 48})
2018-05-08 22:30:24,716 INFO sim01:Stopping child servers
2018-05-08 22:30:24,717 INFO sim01:Killing sim pid 30736
2018-05-08 22:30:24,757 INFO sim01:Stopped child servers
2018-05-08 22:30:24,757 INFO sim01:Simulator killed.
(20, 88, 88, 3)
Trainer  1  process Error!
Trainer  1  after a while return!
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 200:
Thread 0>>> pi=[0.21415675 0.36909944 0.4167438 ]
Thread 0>>> V=-2.1734778881073
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 400:
Thread 0>>> pi=[0.2378499  0.30506012 0.45709   ]
Thread 0>>> V=-3.167487144470215
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Sim_Id:EPISODE:N_episodes,Scene_id,Time_taken,Num_steps_this_episode,Success,Steps_this_episode per_sec,Start_dist,End_dist,Path_start_dist,Path_numdoors,Path_numrooms
sim00:EPISODE:3,284ff31467d92cb95f477fea90272abc,34.005589,500,False,14.703466,5.916266,7.629716,6.372792,2,2
sim00:EPINFO:3,{'goal': {'cell': {'i': 43, 'isValid': True, 'id': 3475, 'j': 33}, 'objectId': '0_26', 'bbox': {'min': [-38.83001524209976, 0.03999994429802811, -45.035744681954384], 'max': [-37.76998323202133, 2.2202398777008057, -44.88425328582525]}, 'initialOffsetFromAgent': [2.7766069938515994, 0, 2.8328706028947], 'position': [-38.29999923706055, 1.1301199109994169, -44.95999898388982]}, 'start': {'cell': {'i': 36, 'isValid': True, 'id': 9708, 'j': 93}, 'position': [-39.00107116405902, 0.5950000007450584, -38.9704606620923], 'angle': 1.3271629277210293, 'room': '0_0'}, 'sceneId': 'p5dScene.284ff31467d92cb95f477fea90272abc', 'shortestPath': {'doors': ['0_52', '0_26'], 'distance': 6.3727922061357845, 'isValid': True, 'rooms': [1, 5]}, 'task': 'object_goal'}
Thread 0>>> score=-51.71345002689193
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
(20, 88, 88, 3)
Thread 0>>> Local step 600:
Thread 0>>> pi=[0.2729874  0.34257355 0.38443905]
Thread 0>>> V=-3.891256093978882
